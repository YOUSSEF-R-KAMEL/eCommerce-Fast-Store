import './polyfills.server.mjs';
import{a as _,c as T}from"./chunk-ZQV4KVKM.mjs";import{a as b}from"./chunk-CYL3G5RS.mjs";import{a as x}from"./chunk-JDFXN72T.mjs";import{k as g}from"./chunk-ZRVASMXO.mjs";import{c as y}from"./chunk-EHNVOD2T.mjs";import{c as v,d as S}from"./chunk-UOETFI2Q.mjs";import"./chunk-J4BDXTMW.mjs";import"./chunk-H5VVROCV.mjs";import{t as C}from"./chunk-YXLOMBLC.mjs";import{Ab as u,Jb as m,Kb as l,Qb as f,Ra as i,Vb as h,Wb as P,Y as o,ba as a,bb as d,jb as p,rb as s,sb as n}from"./chunk-33RGZEIL.mjs";import"./chunk-VVCT4QZE.mjs";var z=(()=>{class r{constructor(){this.productsList=d([]),this.searchVal="",this._productsService=o(T),this._cartService=o(b),this._toastr=o(_)}ngOnInit(){this.getAllProducts()}getAllProducts(){this._productsService.getAllProducts().subscribe({next:e=>{this.productsList.set(e.data)}})}addProductToCart(e){this.getAllProductSubscribe=this._cartService.addProductToCart(e).subscribe({next:t=>{this._cartService.updateCartCount(t.numOfCartItems),this._toastr.success(t.message)}})}ngOnDestroy(){this.getAllProductSubscribe?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=a({type:r,selectors:[["app-products"]],standalone:!0,features:[f],decls:4,vars:4,consts:[[1,"text-center","text-main","my-4"],["type","product",3,"sendProductId","list"]],template:function(t,c){t&1&&(s(0,"h2",0),m(1),h(2,"translate"),n(),s(3,"app-cards",1),u("sendProductId",function(I){return c.addProductToCart(I)}),n()),t&2&&(i(),l(P(2,2,"productsPage.title")),i(2),p("list",c.productsList))},dependencies:[C,y,g,x,S,v]})}}return r})();export{z as ProductsComponent};
